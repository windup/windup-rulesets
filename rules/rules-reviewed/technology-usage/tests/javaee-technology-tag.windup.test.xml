<?xml version="1.0"?>
<ruletest id="javaee-technology-tag-test" xmlns="http://windup.jboss.org/schema/jboss-ruleset">
    <testDataPath>data/</testDataPath>
    <rulePath>../ejb-technology-usage.windup.xml</rulePath>
    <rulePath>../javaee-technology-tag.windup.groovy</rulePath>
    <rulePath>../connect.windup.xml</rulePath>
    <rulePath>../connect-technology-usage.windup.xml</rulePath>
    <rulePath>../database.windup.xml</rulePath>
    <rulePath>../database-technology-usage.windup.xml</rulePath>
    <rulePath>../jta.windup.xml</rulePath>
    <rulePath>../jta-technology-usage.windup.xml</rulePath>    
    <rulePath>../web-technology-usage.windup.xml</rulePath>
    <rulePath>../messaging-technology-usage.windup.xml</rulePath>
    <rulePath>../http-technology-usage.windup.xml</rulePath>
    <rulePath>../clustering.windup.xml</rulePath>
    <rulePath>../clustering-technology-usage.windup.xml</rulePath>
    <ruleset>
        <rules>
            <rule id="javaee-technology-tag-000100-test">
                <when>
                    <not>
                        <iterable-filter size="1">
                            <technology-tag-exists technology-tag="^Entity Bean$" />
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="Entity Bean technology-tag is missing" />
                </perform>
            </rule>

            <rule id="javaee-technology-tag-000100-1-test">
                <when>
                    <not>
                        <iterable-filter size="1">
                            <technology-tag-exists technology-tag="^Stateless \(SLSB\)$" />
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="Stateless (SLSB) technology-tag is missing" />
                </perform>
            </rule>
            <rule id="javaee-technology-tag-000100-2-test">
                <when>
                    <not>
                        <iterable-filter size="1">
                            <technology-tag-exists technology-tag="^Message \(MDB\)$" />
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="Message (MDB) technology-tag is missing" />
                </perform>
            </rule>
            <rule id="javaee-technology-tag-000100-3-test">
                <when>
                    <not>
                        <iterable-filter size="1">
                            <technology-tag-exists technology-tag="^Stateful \(SFSB\)$" />
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="Stateless (SLSB) technology-tag is missing" />
                </perform>
            </rule>
            <rule id="javaee-technology-tag-000100-4-test">
                <when>
                    <not>
                        <iterable-filter size="1">
                            <technology-tag-exists technology-tag="^RMI$" />
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="RMI technology-tag is missing" />
                </perform>
            </rule>
            <rule id="javaee-technology-tag-000100-5-test">
                <when>
                    <not>
                        <iterable-filter size="1">
                            <technology-tag-exists technology-tag="^Persistence units$" />
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="Persistence units technology-tag is missing" />
                </perform>
            </rule>
            <rule id="javaee-technology-tag-000100-6-test">
                <when>
                    <not>
                        <iterable-filter size="1">
                            <technology-tag-exists technology-tag="^JTA$" />
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="JTA technology-tag is missing" />
                </perform>
            </rule>
            <rule id="javaee-technology-tag-000100-7-test">
                <when>
                    <not>
                        <iterable-filter size="1">
                            <technology-tag-exists technology-tag="^JSP Page$" />
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="JSP Page technology-tag is missing" />
                </perform>
            </rule>
            <rule id="javaee-technology-tag-000100-8-test">
                <when>
                    <not>
                        <iterable-filter size="1">
                            <technology-tag-exists technology-tag="^JSF Page$" />
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="JSF Page technology-tag is missing" />
                </perform>
            </rule>
            <rule id="javaee-technology-tag-000100-9-test">
                <when>
                    <not>
                        <iterable-filter size="1">
                            <technology-tag-exists technology-tag="^JPA named queries$" />
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="JPA named queries technology-tag is missing" />
                </perform>
            </rule>
            <rule id="javaee-technology-tag-000100-10-test">
                <when>
                    <not>
                        <iterable-filter size="1">
                            <technology-tag-exists technology-tag="^JPA entities$" />
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="JPA entities technology-tag is missing" />
                </perform>
            </rule>
            <rule id="javaee-technology-tag-000100-11-test">
                <when>
                    <not>
                        <iterable-filter size="1">
                            <technology-tag-exists technology-tag="^JMS Topic$" />
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="JMS Topic technology-tag is missing" />
                </perform>
            </rule>
            <rule id="javaee-technology-tag-000100-12-test">
                <when>
                    <not>
                        <iterable-filter size="1">
                            <technology-tag-exists technology-tag="^JMS Queue$" />
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="JMS Queue technology-tag is missing" />
                </perform>
            </rule>
            <rule id="javaee-technology-tag-000100-13-test">
                <when>
                    <not>
                        <iterable-filter size="1">
                            <technology-tag-exists technology-tag="^JMS Connection Factory$" />
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="JMS Connection Factory technology-tag is missing" />
                </perform>
            </rule>
            <rule id="javaee-technology-tag-000100-14-test">
                <when>
                    <not>
                        <iterable-filter size="1">
                            <technology-tag-exists technology-tag="^JDBC XA datasources$" />
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="JDBC XA datasources technology-tag is missing" />
                </perform>
            </rule>
            <rule id="javaee-technology-tag-000100-15-test">
                <when>
                    <not>
                        <iterable-filter size="1">
                            <technology-tag-exists technology-tag="^JDBC datasources$" />
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="JDBC datasources technology-tag is missing" />
                </perform>
            </rule>
            <rule id="javaee-technology-tag-000100-16-test">
                <when>
                    <not>
                        <iterable-filter size="1">
                            <technology-tag-exists technology-tag="^JCA$" />
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="JCA technology-tag is missing" />
                </perform>
            </rule>
            <rule id="javaee-technology-tag-000100-17-test">
                <when>
                    <not>
                        <iterable-filter size="1">
                            <technology-tag-exists technology-tag="^JAX-WS$" />
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="JAX-WS technology-tag is missing" />
                </perform>
            </rule>
            <rule id="javaee-technology-tag-000100-18-test">
                <when>
                    <not>
                        <iterable-filter size="1">
                            <technology-tag-exists technology-tag="^JAX-RS$" />
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="JAX-RS technology-tag is missing" />
                </perform>
            </rule>
            <rule id="javaee-technology-tag-000100-19-test">
                <when>
                    <not>
                        <iterable-filter size="1">
                            <technology-tag-exists technology-tag="^EJB$" />
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="EJB technology-tag is missing" />
                </perform>
            </rule>
        </rules>
    </ruleset>
</ruletest>

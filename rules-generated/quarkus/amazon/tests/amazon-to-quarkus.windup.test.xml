<?xml version="1.0"?>
<ruletest id="amazon-to-quarkus-tests"
          xmlns="http://windup.jboss.org/schema/jboss-ruleset"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://windup.jboss.org/schema/jboss-ruleset http://windup.jboss.org/schema/jboss-ruleset/windup-jboss-ruleset.xsd">
    <testDataPath>data/</testDataPath>
    <rulePath>../amazon-to-quarkus.windup.xml</rulePath>
    <rulePath>../amazon-to-quarkus.windup.groovy</rulePath>
    <ruleset>
        <rules>
            <rule id="quarkus-amazon-dynamodb-00000-test">
                <when>
                    <not>
                        <iterable-filter size="2">
                            <hint-exists message="Replace the `software.amazon.awssdk:dynamodb` dependency with the Quarkus dependency.*"/>
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="[quarkus-amazon-dynamodb] quarkus-amazon-dynamodb Quarkus extension hint was not found!" />
                </perform>
            </rule>
            <rule id="quarkus-amazon-iam-00000-test">
                <when>
                    <not>
                        <iterable-filter size="2">
                            <hint-exists message="Replace the `software.amazon.awssdk:iam` dependency with the Quarkus dependency.*"/>
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="[quarkus-amazon-iam] quarkus-amazon-iam Quarkus extension hint was not found!" />
                </perform>
            </rule>
            <rule id="quarkus-amazon-kms-00000-test">
                <when>
                    <not>
                        <iterable-filter size="2">
                            <hint-exists message="Replace the `software.amazon.awssdk:kms` dependency with the Quarkus dependency.*"/>
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="[quarkus-amazon-kms] quarkus-amazon-kms Quarkus extension hint was not found!" />
                </perform>
            </rule>
            <rule id="quarkus-amazon-lambda-http-00000-test">
                <when>
                    <not>
                        <iterable-filter size="2">
                            <hint-exists message="Replace the `com.amazonaws.serverless:aws-serverless-java-container-core` dependency with the Quarkus dependency.*"/>
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="[quarkus-amazon-lambda-http] quarkus-amazon-lambda-http Quarkus extension hint was not found!" />
                </perform>
            </rule>
            <rule id="quarkus-amazon-lambda-xray-00000-test">
                <when>
                    <not>
                        <iterable-filter size="2">
                            <hint-exists message="Replace the `com.amazonaws:aws-xray-recorder-sdk-aws-sdk-v2` dependency with the Quarkus dependency.*"/>
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="[quarkus-amazon-lambda-xray] quarkus-amazon-lambda-xray Quarkus extension hint was not found!" />
                </perform>
            </rule>
            <rule id="quarkus-amazon-s3-00000-test">
                <when>
                    <not>
                        <iterable-filter size="2">
                            <hint-exists message="Replace the `software.amazon.awssdk:s3` dependency with the Quarkus dependency.*"/>
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="[quarkus-amazon-s3] quarkus-amazon-s3 Quarkus extension hint was not found!" />
                </perform>
            </rule>
            <rule id="quarkus-amazon-ses-00000-test">
                <when>
                    <not>
                        <iterable-filter size="2">
                            <hint-exists message="Replace the `software.amazon.awssdk:ses` dependency with the Quarkus dependency.*"/>
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="[quarkus-amazon-ses] quarkus-amazon-ses Quarkus extension hint was not found!" />
                </perform>
            </rule>
            <rule id="quarkus-amazon-sns-00000-test">
                <when>
                    <not>
                        <iterable-filter size="2">
                            <hint-exists message="Replace the `software.amazon.awssdk:sns` dependency with the Quarkus dependency.*"/>
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="[quarkus-amazon-sns] quarkus-amazon-sns Quarkus extension hint was not found!" />
                </perform>
            </rule>
            <rule id="quarkus-amazon-sqs-00000-test">
                <when>
                    <not>
                        <iterable-filter size="2">
                            <hint-exists message="Replace the `software.amazon.awssdk:sqs` dependency with the Quarkus dependency.*"/>
                        </iterable-filter>
                    </not>
                </when>
                <perform>
                    <fail message="[quarkus-amazon-sqs] quarkus-amazon-sqs Quarkus extension hint was not found!" />
                </perform>
            </rule>
        </rules>
    </ruleset>
</ruletest>

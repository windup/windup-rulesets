<?xml version="1.0"?>
<ruleset xmlns="http://windup.jboss.org/schema/jboss-ruleset" id="javaee-to-jakarta-namespaces"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://windup.jboss.org/schema/jboss-ruleset http://windup.jboss.org/schema/jboss-ruleset/windup-jboss-ruleset.xsd">
    <metadata>
        <description>
            This ruleset provides analysis of Java EE applications that need to change their deployment descriptor namespaces
        </description>
        <dependencies>
            <addon id="org.jboss.windup.rules,windup-rules-javaee,3.0.0.Final" />
            <addon id="org.jboss.windup.rules,windup-rules-java,3.0.0.Final" />
        </dependencies>
        <targetTechnology id="eap" versionRange="[8,)" />
        <targetTechnology id="jakarta-ee" versionRange="[9,)" />
    </metadata>
    <rules>
        <!-- https://issues.jboss.org/browse/WINDUP-3149 -->
        <rule id="javaee-to-jakarta-namespaces-00001">
            <when>
                <filecontent filename="{*}.xml" pattern="http://xmlns.jcp.org/xml/ns/javaee" />
            </when>
            <perform>
                <hint title="Replace the Java EE namespace, schemaLocation and version with the Jakarta equivalent" effort="1"
                          category-id="mandatory">
                        <message>Replace `http://xmlns.jcp.org/xml/ns/javaee` with `https://jakarta.ee/xml/ns/jakartaee` and change the schema version number </message>
                        <link title="Jakarta EE XML Schemas"
                              href="https://jakarta.ee/xml/ns/jakartaee/#10"/>
                        <quickfix type="REPLACE" name="javaee-namespaces-replace">
                            <replacement>https://jakarta.ee/xml/ns/jakartaee</replacement>
                            <search>http://xmlns.jcp.org/xml/ns/javaee</search>
                        </quickfix>
                    </hint>
            </perform>
        </rule>
        <rule id="javaee-to-jakarta-namespaces-00002">
            <when>
                <filecontent filename="{*}.xml" pattern="http://xmlns.jcp.org/xml/ns/persistence" />
            </when>
            <perform>
                <hint title="Replace the Java EE persistence namespace, schemaLocation and version with the Jakarta equivalent" effort="1"
                          category-id="mandatory">
                        <message>Replace `http://xmlns.jcp.org/xml/ns/persistence` with `https://jakarta.ee/xml/ns/persistence` and change the schema version number </message>
                        <link title="Jakarta Persistence XML Schemas"
                              href="https://jakarta.ee/xml/ns/persistence/#3"/>
                        <quickfix type="REPLACE" name="javaee-persistence-namespace-replace">
                            <replacement>https://jakarta.ee/xml/ns/persistence</replacement>
                            <search>http://xmlns.jcp.org/xml/ns/persistence</search>
                        </quickfix>
                    </hint>
            </perform>
        </rule>
        <rule id="javaee-to-jakarta-namespaces-00003">
            <when>
                <filecontent filename="{*}.xml" pattern="http://xmlns.jcp.org/xml/ns/validation" />
            </when>
            <perform>
                <hint title="Replace the Java EE bean validation configuration namespace, schemaLocation and version with the Jakarta equivalent" effort="1"
                          category-id="mandatory">
                        <message>Replace `http://xmlns.jcp.org/xml/ns/validation` with `https://jakarta.ee/xml/ns/validation` and change the schema version number </message>
                        <link title="Jakarta Bean Validation XML Schemas"
                              href="https://jakarta.ee/xml/ns/validation/"/>
                        <quickfix type="REPLACE" name="javaee-bean-validation-namespace-replace">
                            <replacement>https://jakarta.ee/xml/ns/validation</replacement>
                            <search>http://xmlns.jcp.org/xml/ns/validation</search>
                        </quickfix>
                    </hint>
            </perform>
        </rule>

        <rule id="javaee-to-jakarta-namespaces-00006">
            <when>
                <filecontent filename="{*}.xml" pattern="javaee_web_services_metadata_handler_2_0.xsd" />
            </when>
            <perform>
                <hint title="Replace the Java EE XSD with the Jakarta equivalent" effort="1" category-id="mandatory">
                    <message>Replace `javaee_web_services_metadata_handler_2_0.xsd` with `jakartaee_web_services_metadata_handler_3_0.xsd`</message>
                    <link title="Jakarta XML Schemas" href="https://jakarta.ee/xml/ns/jakartaee/#9" />
                    <quickfix type="REPLACE" name="javaee-namespaces-replace-javaee_web_services_metadata_handler_2_0-xsd">
                        <replacement>jakartaee_web_services_metadata_handler_3_0.xsd</replacement>
                        <search>javaee_web_services_metadata_handler_2_0.xsd</search>
                    </quickfix>
                </hint>
            </perform>
        </rule>

        <rule id="javaee-to-jakarta-namespaces-00007">
            <when>
                <filecontent filename="{*}.xml" pattern="batchXML_1_0.xsd" />
            </when>
            <perform>
                <hint title="Replace the Java EE XSD with the Jakarta equivalent" effort="1" category-id="mandatory">
                    <message>Replace `batchXML_1_0.xsd` with `batchXML_2_0.xsd`</message>
                    <link title="Jakarta XML Schemas" href="https://jakarta.ee/xml/ns/jakartaee/#9" />
                    <quickfix type="REPLACE" name="javaee-namespaces-replace-batchXML_1_0-xsd">
                        <replacement>batchXML_2_0.xsd</replacement>
                        <search>batchXML_1_0.xsd</search>
                    </quickfix>
                </hint>
            </perform>
        </rule>

        <rule id="javaee-to-jakarta-namespaces-00008">
            <when>
                <filecontent filename="{*}.xml" pattern="beans_1_1.xsd" />
            </when>
            <perform>
                <hint title="Replace the Java EE XSD with the Jakarta equivalent" effort="1" category-id="mandatory">
                    <message>Replace `beans_1_1.xsd` with `beans_3_0.xsd`</message>
                    <link title="Jakarta XML Schemas" href="https://jakarta.ee/xml/ns/jakartaee/#9" />
                    <quickfix type="REPLACE" name="javaee-namespaces-replace-beans_1_1-xsd">
                        <replacement>beans_3_0.xsd</replacement>
                        <search>beans_1_1.xsd</search>
                    </quickfix>
                </hint>
            </perform>
        </rule>
        <rule id="javaee-to-jakarta-namespaces-00009">
            <when>
                <filecontent filename="{*}.xml" pattern="beans_2_0.xsd" />
            </when>
            <perform>
                <hint title="Replace the Java EE XSD with the Jakarta equivalent" effort="1" category-id="mandatory">
                    <message>Replace `beans_2_0.xsd` with `beans_3_0.xsd`</message>
                    <link title="Jakarta XML Schemas" href="https://jakarta.ee/xml/ns/jakartaee/#9" />
                    <quickfix type="REPLACE" name="javaee-namespaces-replace-beans_2_0-xsd">
                        <replacement>beans_3_0.xsd</replacement>
                        <search>beans_2_0.xsd</search>
                    </quickfix>
                </hint>
            </perform>
        </rule>

        <rule id="javaee-to-jakarta-namespaces-00010">
            <when>
                <filecontent filename="{*}.xml" pattern="jobXML_1_0.xsd" />
            </when>
            <perform>
                <hint title="Replace the Java EE XSD with the Jakarta equivalent" effort="1" category-id="mandatory">
                    <message>Replace `jobXML_1_0.xsd` with `jobXML_2_0.xsd`</message>
                    <link title="Jakarta XML Schemas" href="https://jakarta.ee/xml/ns/jakartaee/#9" />
                    <quickfix type="REPLACE" name="javaee-namespaces-replace-jobXML_1_0-xsd">
                        <replacement>jobXML_2_0.xsd</replacement>
                        <search>jobXML_1_0.xsd</search>
                    </quickfix>
                </hint>
            </perform>
        </rule>

        <rule id="javaee-to-jakarta-namespaces-00012">
            <when>
                <filecontent filename="{*}.xml" pattern="application_7.xsd" />
            </when>
            <perform>
                <hint title="Replace the Java EE XSD with the Jakarta equivalent" effort="1" category-id="mandatory">
                    <message>Replace `application_7.xsd` with `application_9.xsd`</message>
                    <link title="Jakarta XML Schemas" href="https://jakarta.ee/xml/ns/jakartaee/#9" />
                    <quickfix type="REPLACE" name="javaee-namespaces-replace-application_7-xsd">
                        <replacement>application_9.xsd</replacement>
                        <search>application_7.xsd</search>
                    </quickfix>
                </hint>
            </perform>
        </rule>
        <rule id="javaee-to-jakarta-namespaces-00013">
            <when>
                <filecontent filename="{*}.xml" pattern="application_8.xsd" />
            </when>
            <perform>
                <hint title="Replace the Java EE XSD with the Jakarta equivalent" effort="1" category-id="mandatory">
                    <message>Replace `application_8.xsd` with `application_9.xsd`</message>
                    <link title="Jakarta XML Schemas" href="https://jakarta.ee/xml/ns/jakartaee/#9" />
                    <quickfix type="REPLACE" name="javaee-namespaces-replace-application_8-xsd">
                        <replacement>application_9.xsd</replacement>
                        <search>application_8.xsd</search>
                    </quickfix>
                </hint>
            </perform>
        </rule>

        <rule id="javaee-to-jakarta-namespaces-00014">
            <when>
                <filecontent filename="{*}.xml" pattern="application-client_7.xsd" />
            </when>
            <perform>
                <hint title="Replace the Java EE XSD with the Jakarta equivalent" effort="1" category-id="mandatory">
                    <message>Replace `application-client_7.xsd` with `application-client_9.xsd`</message>
                    <link title="Jakarta XML Schemas" href="https://jakarta.ee/xml/ns/jakartaee/#9" />
                    <quickfix type="REPLACE" name="javaee-namespaces-replace-application-client_7-xsd">
                        <replacement>application-client_9.xsd</replacement>
                        <search>application-client_7.xsd</search>
                    </quickfix>
                </hint>
            </perform>
        </rule>
        <rule id="javaee-to-jakarta-namespaces-00015">
            <when>
                <filecontent filename="{*}.xml" pattern="application-client_8.xsd" />
            </when>
            <perform>
                <hint title="Replace the Java EE XSD with the Jakarta equivalent" effort="1" category-id="mandatory">
                    <message>Replace `application-client_8.xsd` with `application-client_9.xsd`</message>
                    <link title="Jakarta XML Schemas" href="https://jakarta.ee/xml/ns/jakartaee/#9" />
                    <quickfix type="REPLACE" name="javaee-namespaces-replace-application-client_8-xsd">
                        <replacement>application-client_9.xsd</replacement>
                        <search>application-client_8.xsd</search>
                    </quickfix>
                </hint>
            </perform>
        </rule>

        <rule id="javaee-to-jakarta-namespaces-00016">
            <when>
                <filecontent filename="{*}.xml" pattern="connector_1_7.xsd" />
            </when>
            <perform>
                <hint title="Replace the Java EE XSD with the Jakarta equivalent" effort="1" category-id="mandatory">
                    <message>Replace `connector_1_7.xsd` with `connector_2_0.xsd`</message>
                    <link title="Jakarta XML Schemas" href="https://jakarta.ee/xml/ns/jakartaee/#9" />
                    <quickfix type="REPLACE" name="javaee-namespaces-replace-connector_1_7-xsd">
                        <replacement>connector_2_0.xsd</replacement>
                        <search>connector_1_7.xsd</search>
                    </quickfix>
                </hint>
            </perform>
        </rule>

        <rule id="javaee-to-jakarta-namespaces-00017">
            <when>
                <filecontent filename="{*}.xml" pattern="ejb-jar_3_2.xsd" />
            </when>
            <perform>
                <hint title="Replace the Java EE XSD with the Jakarta equivalent" effort="1" category-id="mandatory">
                    <message>Replace `ejb-jar_3_2.xsd` with `ejb-jar_4_0.xsd`</message>
                    <link title="Jakarta XML Schemas" href="https://jakarta.ee/xml/ns/jakartaee/#9" />
                    <quickfix type="REPLACE" name="javaee-namespaces-replace-ejb-jar_3_2-xsd">
                        <replacement>ejb-jar_4_0.xsd</replacement>
                        <search>ejb-jar_3_2.xsd</search>
                    </quickfix>
                </hint>
            </perform>
        </rule>

        <rule id="javaee-to-jakarta-namespaces-00018">
            <when>
                <filecontent filename="{*}.xml" pattern="javaee_web_services_1_4.xsd" />
            </when>
            <perform>
                <hint title="Replace the Java EE XSD with the Jakarta equivalent" effort="1" category-id="mandatory">
                    <message>Replace `javaee_web_services_1_4.xsd` with `jakartaee_web_services_2_0.xsd`</message>
                    <link title="Jakarta XML Schemas" href="https://jakarta.ee/xml/ns/jakartaee/#9" />
                    <quickfix type="REPLACE" name="javaee-namespaces-replace-javaee_web_services_1_4-xsd">
                        <replacement>jakartaee_web_services_2_0.xsd</replacement>
                        <search>javaee_web_services_1_4.xsd</search>
                    </quickfix>
                </hint>
            </perform>
        </rule>

        <rule id="javaee-to-jakarta-namespaces-00020">
            <when>
                <filecontent filename="{*}.xml" pattern="permissions_7.xsd" />
            </when>
            <perform>
                <hint title="Replace the Java EE XSD with the Jakarta equivalent" effort="1" category-id="mandatory">
                    <message>Replace `permissions_7.xsd` with `permissions_9.xsd`</message>
                    <link title="Jakarta XML Schemas" href="https://jakarta.ee/xml/ns/jakartaee/#9" />
                    <quickfix type="REPLACE" name="javaee-namespaces-replace-permissions_7-xsd">
                        <replacement>permissions_9.xsd</replacement>
                        <search>permissions_7.xsd</search>
                    </quickfix>
                </hint>
            </perform>
        </rule>

        <rule id="javaee-to-jakarta-namespaces-00021">
            <when>
                <filecontent filename="{*}.xml" pattern="web-app_3_1.xsd" />
            </when>
            <perform>
                <hint title="Replace the Java EE XSD with the Jakarta equivalent" effort="1" category-id="mandatory">
                    <message>Replace `web-app_3_1.xsd` with `web-app_5_0.xsd`</message>
                    <link title="Jakarta XML Schemas" href="https://jakarta.ee/xml/ns/jakartaee/#9" />
                    <quickfix type="REPLACE" name="javaee-namespaces-replace-web-app_3_1-xsd">
                        <replacement>web-app_5_0.xsd</replacement>
                        <search>web-app_3_1.xsd</search>
                    </quickfix>
                </hint>
            </perform>
        </rule>
        <rule id="javaee-to-jakarta-namespaces-00022">
            <when>
                <filecontent filename="{*}.xml" pattern="web-app_4_0.xsd" />
            </when>
            <perform>
                <hint title="Replace the Java EE XSD with the Jakarta equivalent" effort="1" category-id="mandatory">
                    <message>Replace `web-app_4_0.xsd` with `web-app_5_0.xsd`</message>
                    <link title="Jakarta XML Schemas" href="https://jakarta.ee/xml/ns/jakartaee/#9" />
                    <quickfix type="REPLACE" name="javaee-namespaces-replace-web-app_4_0-xsd">
                        <replacement>web-app_5_0.xsd</replacement>
                        <search>web-app_4_0.xsd</search>
                    </quickfix>
                </hint>
            </perform>
        </rule>

        <rule id="javaee-to-jakarta-namespaces-00023">
            <when>
                <filecontent filename="{*}.xml" pattern="web-fragment_3_1.xsd" />
            </when>
            <perform>
                <hint title="Replace the Java EE XSD with the Jakarta equivalent" effort="1" category-id="mandatory">
                    <message>Replace `web-fragment_3_1.xsd` with `web-fragment_5_0.xsd`</message>
                    <link title="Jakarta XML Schemas" href="https://jakarta.ee/xml/ns/jakartaee/#9" />
                    <quickfix type="REPLACE" name="javaee-namespaces-replace-web-fragment_3_1-xsd">
                        <replacement>web-fragment_5_0.xsd</replacement>
                        <search>web-fragment_3_1.xsd</search>
                    </quickfix>
                </hint>
            </perform>
        </rule>
        <rule id="javaee-to-jakarta-namespaces-00024">
            <when>
                <filecontent filename="{*}.xml" pattern="web-fragment_4_0.xsd" />
            </when>
            <perform>
                <hint title="Replace the Java EE XSD with the Jakarta equivalent" effort="1" category-id="mandatory">
                    <message>Replace `web-fragment_4_0.xsd` with `web-fragment_5_0.xsd`</message>
                    <link title="Jakarta XML Schemas" href="https://jakarta.ee/xml/ns/jakartaee/#9" />
                    <quickfix type="REPLACE" name="javaee-namespaces-replace-web-fragment_4_0-xsd">
                        <replacement>web-fragment_5_0.xsd</replacement>
                        <search>web-fragment_4_0.xsd</search>
                    </quickfix>
                </hint>
            </perform>
        </rule>

        <rule id="javaee-to-jakarta-namespaces-00027">
            <when>
                <filecontent filename="{*}.xml" pattern="web-facesconfig_2_2.xsd" />
            </when>
            <perform>
                <hint title="Replace the Java EE XSD with the Jakarta equivalent" effort="1" category-id="mandatory">
                    <message>Replace `web-facesconfig_2_2.xsd` with `web-facesconfig_3_0.xsd`</message>
                    <link title="Jakarta XML Schemas" href="https://jakarta.ee/xml/ns/jakartaee/#9" />
                    <quickfix type="REPLACE" name="javaee-namespaces-replace-web-facesconfig_2_2-xsd">
                        <replacement>web-facesconfig_3_0.xsd</replacement>
                        <search>web-facesconfig_2_2.xsd</search>
                    </quickfix>
                </hint>
            </perform>
        </rule>
        <rule id="javaee-to-jakarta-namespaces-00028">
            <when>
                <filecontent filename="{*}.xml" pattern="web-facesconfig_2_3.xsd" />
            </when>
            <perform>
                <hint title="Replace the Java EE XSD with the Jakarta equivalent" effort="1" category-id="mandatory">
                    <message>Replace `web-facesconfig_2_3.xsd` with `web-facesconfig_3_0.xsd`</message>
                    <link title="Jakarta XML Schemas" href="https://jakarta.ee/xml/ns/jakartaee/#9" />
                    <quickfix type="REPLACE" name="javaee-namespaces-replace-web-facesconfig_2_3-xsd">
                        <replacement>web-facesconfig_3_0.xsd</replacement>
                        <search>web-facesconfig_2_3.xsd</search>
                    </quickfix>
                </hint>
            </perform>
        </rule>

        <rule id="javaee-to-jakarta-namespaces-00029">
            <when>
                <filecontent filename="{*}.xml" pattern="web-facelettaglibrary_2_2.xsd" />
            </when>
            <perform>
                <hint title="Replace the Java EE XSD with the Jakarta equivalent" effort="1" category-id="mandatory">
                    <message>Replace `web-facelettaglibrary_2_2.xsd` with `web-facelettaglibrary_3_0.xsd`</message>
                    <link title="Jakarta XML Schemas" href="https://jakarta.ee/xml/ns/jakartaee/#9" />
                    <quickfix type="REPLACE" name="javaee-namespaces-replace-web-facelettaglibrary_2_2-xsd">
                        <replacement>web-facelettaglibrary_3_0.xsd</replacement>
                        <search>web-facelettaglibrary_2_2.xsd</search>
                    </quickfix>
                </hint>
            </perform>
        </rule>
        <rule id="javaee-to-jakarta-namespaces-00030">
            <when>
                <filecontent filename="{*}.xml" pattern="web-facelettaglibrary_2_3.xsd" />
            </when>
            <perform>
                <hint title="Replace the Java EE XSD with the Jakarta equivalent" effort="1" category-id="mandatory">
                    <message>Replace `web-facelettaglibrary_2_3.xsd` with `web-facelettaglibrary_3_0.xsd`</message>
                    <link title="Jakarta XML Schemas" href="https://jakarta.ee/xml/ns/jakartaee/#9" />
                    <quickfix type="REPLACE" name="javaee-namespaces-replace-web-facelettaglibrary_2_3-xsd">
                        <replacement>web-facelettaglibrary_3_0.xsd</replacement>
                        <search>web-facelettaglibrary_2_3.xsd</search>
                    </quickfix>
                </hint>
            </perform>
        </rule>

        <rule id="javaee-to-jakarta-namespaces-00031">
            <when>
                <filecontent filename="{*}.xml" pattern="web-partialresponse_2_2.xsd" />
            </when>
            <perform>
                <hint title="Replace the Java EE XSD with the Jakarta equivalent" effort="1" category-id="mandatory">
                    <message>Replace `web-partialresponse_2_2.xsd` with `web-partialresponse_3_0.xsd`</message>
                    <link title="Jakarta XML Schemas" href="https://jakarta.ee/xml/ns/jakartaee/#9" />
                    <quickfix type="REPLACE" name="javaee-namespaces-replace-web-partialresponse_2_2-xsd">
                        <replacement>web-partialresponse_3_0.xsd</replacement>
                        <search>web-partialresponse_2_2.xsd</search>
                    </quickfix>
                </hint>
            </perform>
        </rule>
        <rule id="javaee-to-jakarta-namespaces-00032">
            <when>
                <filecontent filename="{*}.xml" pattern="web-partialresponse_2_3.xsd" />
            </when>
            <perform>
                <hint title="Replace the Java EE XSD with the Jakarta equivalent" effort="1" category-id="mandatory">
                    <message>Replace `web-partialresponse_2_3.xsd` with `web-partialresponse_3_0.xsd`</message>
                    <link title="Jakarta XML Schemas" href="https://jakarta.ee/xml/ns/jakartaee/#9" />
                    <quickfix type="REPLACE" name="javaee-namespaces-replace-web-partialresponse_2_3-xsd">
                        <replacement>web-partialresponse_3_0.xsd</replacement>
                        <search>web-partialresponse_2_3.xsd</search>
                    </quickfix>
                </hint>
            </perform>
        </rule>

        <rule id="javaee-to-jakarta-namespaces-00033">
            <when>
                <filecontent filename="{*}.xml" pattern="web-jsptaglibrary_2_1.xsd" />
            </when>
            <perform>
                <hint title="Replace the Java EE XSD with the Jakarta equivalent" effort="1" category-id="mandatory">
                    <message>Replace `web-jsptaglibrary_2_1.xsd` with `web-jsptaglibrary_3_0.xsd`</message>
                    <link title="Jakarta XML Schemas" href="https://jakarta.ee/xml/ns/jakartaee/#9" />
                    <quickfix type="REPLACE" name="javaee-namespaces-replace-web-jsptaglibrary_2_1-xsd">
                        <replacement>web-jsptaglibrary_3_0.xsd</replacement>
                        <search>web-jsptaglibrary_2_1.xsd</search>
                    </quickfix>
                </hint>
            </perform>
        </rule>
    </rules>
</ruleset>
